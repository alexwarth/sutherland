<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>TX-2 CRT Spot Display</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
        body {
            font-family: 'Major Mono Display', monospace;
            max-width: 800px;
            margin: 0 auto;
            padding: 1em;
        }
        canvas {
            width: 800px;
            height: 800px;
        }
    </style>
  </head>
  <body>
<h1>TX-2 CRT Spot Display</h1>
<p><em>by Vanessa Freudenberg, 2025</em></p>

<p>Sketchpad ran on the TX-2 computer with a 7" x 7" Cathod Ray Tube to display its graphical interface:</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/GVlqhIzSUUY?si=Y40xSiqU16LgaUVg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

<p>According to Ivan Sutherland's thesis, it stored 32,000 "spots" in a display table (or more precisely, two display tables for double-buffering), each a 36 bit word:</p>

<ul>
<li>10 bit horizontal and 10 bit vertical deflection of ray, origin at center, "signed fraction of full scope deflection" (pg. 70)</li>
<li>16 bit tag (to identify what part of the drawing is sensed by the light pen)</li>
</ul>

<p>This means it had a "resolution" of 1024x1024 spot positions, which some reports incorrectly call a 1024x1024 pixel display. But this was not a raster display, but displayed individual points. Normally the spots bleed into each other visually, but they can be drawn apart too, in this case due to interlaced rendering to reduce flicker (this screenshot is from the later Sketchpad-3D):</p>
<p><img src="crt2.jpg" alt="interlaced spot rendering" /></p>

<!-- <p>Here is a video of the CRT display showing lines and dotted lines:</p>

<p>
    <video width="800" controls poster="crt1.jpg">
    <source src="crt.mp4" type="video/mp4">
    <a href="crt.mp4">Click to play video</a></p>
</video></p>
<p>Based on this video here's a few estimates:</p>

<ul>
<li><p>The vertical line between the F and S sides consists of 25 individual points and is about 20% of the screen height long. The two lines at the lower edge of F and S has 39 points, taking up about 29% of the screenwidth.</p></li>
<li><p>In both cases the distance between spots is about 1.2 mm.</p></li>
<li><p>1024 positions on a 7" wide screen gives a precision of about 0.17 mm,</p></li>
<li><p>that's about 7x the spot distance, making the animation of the spots along the lines plausible</p></li>
<li><p>the spot size appears to be 1/3rd of the distance between spots, making it about 0.4 mm, or 1/400th of the screen width, or 2 display units. This ensures spots "bleed" into each other to form contiuous lines.</p></li>
<li><p>assuming the point density is the same for the whole drawing, there's about 1,500 spots on the screen. Knowing that this uses 1:8 interlaced spot rendering there's a total of 12,000 spots which is in line with the 16,000 max spot number.</p></li>
</ul> -->

<h2>Display</h2>

<p>The display system, or "scope" on the TX-2 is able to draw up to 100,000 spots per second, but with Sketchpad the program used 20 microseconds per spot, so the actual rate was more like 50,000 spots per second (pg. 67). The display table stored up to 16,000 spots (32,000 words due to double-buffering).</p>

<p>The system displayed dots either consecutively, or "interlaced" showing every 8th spot. This reduced flicker at the expense of a crawling pattern and can be switched on by the user (pg. 68).</p>

<p>Another display mode is "twinkling", using a random order which is "pleasing to the eye" (pg. 68). This, too, could be enabled by the user.</p>

<h3>Display Emulation</h3>

<p>Here is a faithful emulation of the display using Gaussian splats as points. The spot locations are quantized to 1024 positions:</p>

<p><a href="emu.html" target="_blank">Click to run</a></p>

<p>This emulation does take the TX-2's drawing speed into account, which leads to flickering. It implements both interlaced and twinkling rendering, which reduce the flicker. It also simulate the phosphor's fluorescence (which produces a slight after-image effect making movement less jerky).</p>

<p>The source code for this emulation is available <a href="https://github.com/codefrau/sutherland/blob/388825238e6c477f760bd327755db768bc67fed5/src/display.ts#L1" target="_blank">here</a> (the other files in the repo are unused for this experiment). It uses 64 bits per spot, putting the x and y coordinates into the upper half of each 32 bit word. The lower 16 bits are used for a spot ID in one word, and a spot index in the other word, which I used for distinguishing spots by color while debugging.</p>

<h2>Pen Tracker</h2>

<p>The Light Pen required a tracking pattern to determine which way the pen moved. Figure 4.4 of the thesis shows several patterns. Sutherland writes "I use the logarithmic scan with 4 arms." The middle of the pattern is left empty. This is used to show a "pseudo pen location" as a "bright dot" that jumps away from the pattern when snapping to a point or line (pg. 66).</p>

<p>The emulation recreates the pen tracker by showing the pattern and the "pseudo pen location" as a bright dot. The pattern can be moved by moving your pointing device. The bright dot snaps to the nearest spot continuously.</p>

<p>The pen spots are rendered in each frame, so they do not flicker.  This matches the original display which needed the pattern to be steady and responsive for the light pen to work.</p>
</body>
</html>